<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>fileTypes</key>
	<array>
		<string>dats</string>
		<string>sats</string>
		<string>hats</string>
	</array>
	<key>name</key>
	<string>ATS</string>
	<key>patterns</key>
	<array>
		<dict>
			<key>include</key>
			<string>#where</string>
		</dict>
		<dict>
			<key>include</key>
			<string>#comment_rest</string>
		</dict>
		<dict>
			<key>include</key>
			<string>#comment_line</string>
		</dict>
		<dict>
			<key>include</key>
			<string>#comment_block</string>
		</dict>
		<dict>
			<key>include</key>
			<string>#string</string>
		</dict>
		<dict>
			<key>include</key>
			<string>#quantifier_square</string>
		</dict>
		<dict>
			<key>include</key>
			<string>#quantifier_curly</string>
		</dict>
		<dict>
			<key>include</key>
			<string>#operators</string>
		</dict>
		<dict>
			<key>include</key>
			<string>#quantifier_arrow</string>
		</dict>
		<dict>
			<key>include</key>
			<string>#keywords</string>
		</dict>
	</array>
	<key>repository</key>
	<dict>
		<key>comment_block</key>
		<dict>
			<key>applyEndPatternLast</key>
			<integer>1</integer>
			<key>begin</key>
			<string>\(\*</string>
			<key>end</key>
			<string>\*\)</string>
			<key>name</key>
			<string>comment.block.ats</string>
			<key>patterns</key>
			<array>
				<dict>
					<key>include</key>
					<string>#comment_block</string>
				</dict>
			</array>
		</dict>
		<key>comment_line</key>
		<dict>
			<key>match</key>
			<string>//.*$</string>
			<key>name</key>
			<string>comment.line.ats</string>
		</dict>
		<key>comment_rest</key>
		<dict>
			<key>applyEndPatternLast</key>
			<integer>1</integer>
			<key>begin</key>
			<string>////</string>
			<key>end</key>
			<string>.\z</string>
			<key>name</key>
			<string>comment.rest.ats</string>
			<key>patterns</key>
			<array>
				<dict>
					<key>match</key>
					<string>.*</string>
				</dict>
			</array>
		</dict>
		<key>keywords</key>
		<dict>
			<key>match</key>
			<string>(\#|\$)(\w+)|\b(absprop|abst@ype|abstype|absviewt@ype|absviewtype|absview|and|andalso|assume|as|begin|break|case(\+|-)?|class|continue|dataprop|datasort|datatype|dataviewtype|dataview|dynload|dyn|else|end|exception|extern|fix|fn|for|fun|if|implement|infixl|infixr|infix|in|lam|let|llam|local|macdef|macrodef|method|modprop|modtype|module|nonfix|object|of|op|or|orelse|overload|par|postfix|praxi|prefix|prfn|prfun|propdef|prval|rec|sif|sortdef|stadef|staif|staload|stavar|sta|struct|symelim|symintr|then|try|typedef|union|val(\+|-)?|var|viewdef|viewtypedef|when|where|while|withprop|withtype|withviewtype|withview|with)\b</string>
			<key>name</key>
			<string>keyword.ats</string>
		</dict>
		<key>operators</key>
		<dict>
			<key>match</key>
			<string>!=|!|%|&amp;&amp;|&amp;|\*|\+|-|--&gt;|-&gt;|/|:=|&lt;=|(?&lt;=\s)&lt;|==&gt;|=&gt;|=|&gt;=|&gt;&gt;|&gt;|\?|\|\||\||~</string>
			<key>name</key>
			<string>keyword.operator.ats</string>
		</dict>
		<key>quantifier_arrow</key>
		<dict>
			<key>begin</key>
			<string>(?&lt;!\s)&lt;</string>
			<key>end</key>
			<string>&gt;</string>
			<key>name</key>
			<string>variable.parameter.ats</string>
		</dict>
		<key>quantifier_curly</key>
		<dict>
			<key>begin</key>
			<string>({)</string>
			<key>end</key>
			<string>(})</string>
			<key>name</key>
			<string>variable.parameter.ats</string>
		</dict>
		<key>quantifier_square</key>
		<dict>
			<key>begin</key>
			<string>(\[)</string>
			<key>end</key>
			<string>(\])</string>
			<key>name</key>
			<string>variable.parameter.ats</string>
		</dict>
		<key>string</key>
		<dict>
			<key>match</key>
			<string>"[^"]*"</string>
			<key>name</key>
			<string>string.ats</string>
		</dict>
		<key>where</key>
		<dict>
			<key>applyEndPatternLast</key>
			<integer>1</integer>
			<key>begin</key>
			<string>(?&lt;=where)(?:\s*){</string>
			<key>end</key>
			<string>}</string>
			<key>patterns</key>
			<array>
				<dict>
					<key>include</key>
					<string>$self</string>
				</dict>
			</array>
		</dict>
	</dict>
	<key>scopeName</key>
	<string>source.ats</string>
	<key>uuid</key>
	<string>c3b7ee53-6117-4cdf-80ea-d0572e54aed7</string>
</dict>
</plist>
